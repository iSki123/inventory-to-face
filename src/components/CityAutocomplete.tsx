import React, { useState, useEffect, useMemo } from 'react';
import { Command, CommandEmpty, CommandGroup, CommandInput, CommandItem, CommandList } from "@/components/ui/command";
import { Popover, PopoverContent, PopoverTrigger } from "@/components/ui/popover";
import { Button } from "@/components/ui/button";
import { Check, ChevronsUpDown } from "lucide-react";
import { cn } from "@/lib/utils";

interface City {
  name: string;
  state: string;
}

interface CityAutocompleteProps {
  value: string;
  onChange: (value: string) => void;
  placeholder?: string;
  className?: string;
}

// Comprehensive US cities data - organized by state
const usCitiesData: { [state: string]: string[] } = {
  "Alabama": ["Birmingham", "Montgomery", "Mobile", "Huntsville", "Tuscaloosa", "Hoover", "Dothan", "Auburn", "Decatur", "Madison", "Florence", "Gadsden", "Vestavia Hills", "Prattville", "Phenix City", "Alabaster", "Bessemer", "Enterprise", "Opelika", "Homewood", "Northport", "Anniston", "Prichard", "Athens", "Cullman", "Jasper", "Mountain Brook", "Trussville", "Daphne", "Selma", "Troy", "Hartselle", "Albertville", "Scottsboro", "Fort Payne", "Pell City", "Muscle Shoals", "Talladega", "Hueytown", "Saraland", "Ozark", "Millbrook", "Fairhope", "Pelham", "Alexander City", "Andalusia", "Elmore", "Oxford", "Jacksonville", "Helena", "Guntersville", "Pleasant Grove", "Clanton", "Sylacauga", "Bay Minette", "Center Point", "Gardendale", "Moody", "Calera", "Fairfield", "Sumiton", "Oneonta", "Atmore", "Leeds", "Russellville", "Lanett", "Demopolis", "Arab", "Greenville", "Brewton", "Hamilton", "Montevallo", "Tarrant", "Eufaula", "Citronelle", "Clay", "Rainbow City", "Boaz", "Foley", "Fultondale", "Dadeville", "Glencoe", "Roanoke", "Lincoln", "Chelsea", "Pike Road", "Bridgeport", "Smiths Station", "Riverside", "Irondale", "Satsuma", "Jackson", "Fayette", "Opp", "Warrior", "Spanish Fort", "Double Springs", "Grove Hill", "Thomasville", "Valley", "Argo", "Wetumpka", "North Aurora"],
  "Alaska": ["Anchorage", "Fairbanks", "Juneau", "Wasilla", "Sitka", "Ketchikan", "Kenai", "Kodiak", "Bethel", "Palmer", "Homer", "Unalaska", "Haines", "Seward", "Nome", "Kotzebue", "Dillingham", "Knik-Fairview", "Valdez", "Petersburg", "Craig", "Wrangell", "Barrow", "Soldotna", "Skagway", "Cordova", "Galena", "Delta Junction", "Tok", "Hooper Bay", "Sand Point", "King Cove", "Akutan", "Metlakatla", "Emmonak", "Fort Yukon", "McGrath", "Saint Paul", "Mountain Village", "Savoonga", "Chevak", "Selawik", "Togiak", "Toksook Bay", "Wales", "Alakanuk", "Scammon Bay", "Shishmaref", "Stebbins", "Brevig Mission"],
  "Arizona": ["Phoenix", "Tucson", "Mesa", "Chandler", "Scottsdale", "Glendale", "Gilbert", "Tempe", "Peoria", "Surprise", "Yuma", "Avondale", "Goodyear", "Flagstaff", "Buckeye", "Lake Havasu City", "Casa Grande", "Sierra Vista", "Maricopa", "Oro Valley", "Prescott", "Bullhead City", "Prescott Valley", "Apache Junction", "Marana", "El Mirage", "Kingman", "Queen Creek", "Sahuarita", "Fountain Hills", "Douglas", "Anthem", "Safford", "Catalina Foothills", "Nogales", "Sedona", "Show Low", "Flowing Wells", "Tanque Verde", "Fortuna Foothills", "New River", "Casas Adobes", "Sun City West", "Drexel Heights", "San Luis", "Payson", "Sun City", "Winslow", "Benson", "Page", "Somerton", "Paradise Valley", "Tolleson", "Globe", "Litchfield Park", "Green Valley", "Florence", "Coolidge", "Camp Verde", "Eagar", "Snowflake", "Wickenburg", "Eloy", "Chino Valley", "Arizona City", "Pinetop-Lakeside", "Chinle", "Many Farms", "Tuba City", "Window Rock", "Kayenta", "Ganado", "Holbrook", "Taylor", "Springerville", "Thatcher", "Pima", "Willcox", "Bisbee", "Tombstone", "Mammoth", "Superior", "Hayden", "Kearny", "Winkelman", "Miami", "Clifton", "Quartzsite", "Parker", "Salome", "Aguila", "Wickenburg", "Congress", "Yarnell", "Bagdad", "Nothing", "Skull Valley", "Paulden", "Ash Fork", "Williams", "Grand Canyon", "Fredonia", "Marble Canyon", "Lee's Ferry", "Cameron", "Gray Mountain", "Flagstaff", "Winona", "Bellemont", "Parks", "Valle", "Tusayan", "Red Lake", "Indian Wells", "Leupp", "Dilkon", "Winslow", "Joseph City", "Holbrook", "Woodruff", "Snowflake", "Taylor", "Show Low", "Pinetop", "Lakeside", "McNary", "Whiteriver", "Fort Apache", "Cibecue", "Carrizo", "Cedar Creek", "East Fork", "North Fork", "Turkey Creek", "Greer", "Nutrioso", "Alpine", "Blue", "Clifton", "Morenci", "Duncan", "Franklin", "Safford", "Pima", "Thatcher", "Central", "Globe", "Superior", "Miami", "Claypool", "Winkelman", "Hayden", "Kearny", "Mammoth", "Oracle", "San Manuel", "Catalina", "Oro Valley", "Marana", "Picture Rocks", "Avra Valley", "Three Points", "Robles Junction", "Ryan", "Tucson", "South Tucson", "Sahuarita", "Green Valley", "Vail", "Corona de Tucson", "Tanque Verde", "Catalina Foothills", "Casas Adobes", "Flowing Wells", "Drexel Heights", "Valencia West", "Summit", "Pascua Pueblo Yaqui", "New Pascua", "San Xavier", "Sells", "Topawa", "Pisinemo", "Hickiwan", "Covered Wells", "Santa Rosa", "Gu Oidak", "Chukut Kuk", "Baboquivari", "Fresnal Canyon", "Indian Oasis", "Ajo", "Why", "Lukeville", "Organ Pipe Cactus National Monument", "Quitobaquito", "Sonoyta", "Sasabe", "Arivaca", "Amado", "Tubac", "Tumacacori", "Carmen", "Rio Rico", "Calabasas", "Nogales", "Patagonia", "Sonoita", "Elgin", "Canelo", "Huachuca City", "Tombstone", "Bisbee", "Douglas", "Agua Prieta", "Naco", "Hereford", "Palominas", "Benson", "St. David", "Pomerene", "Dragoon", "Cochise", "Willcox", "Kansas Settlement", "Dos Cabezas", "Bowie", "San Simon", "Portal", "Paradise", "Rodeo"],
  "Arkansas": ["Little Rock", "Fort Smith", "Fayetteville", "Springdale", "Jonesboro", "North Little Rock", "Conway", "Rogers", "Pine Bluff", "Bentonville", "Hot Springs", "Benton", "Sherwood", "Texarkana", "Paragould", "Cabot", "Russellville", "Searcy", "Van Buren", "El Dorado", "West Memphis", "Jacksonville", "Bella Vista", "Bryant", "Siloam Springs", "Harrison", "Marion", "Blytheville", "Forrest City", "Camden", "Arkadelphia", "Maumelle", "Mountain Home", "Helena-West Helena", "Magnolia", "Hope", "Malvern", "Stuttgart", "Batesville", "Newport", "Monticello", "Hot Springs Village", "Pocahontas", "Wynne", "Osceola", "Clarksville", "Ozark", "Walnut Ridge", "Mena", "Morrilton", "Centerton", "Beebe", "Alexander", "Greenwood", "De Queen", "Warren", "Alma", "Vilonia", "Nashville", "Heber Springs", "Dardanelle", "Crossett", "Star City", "McGehee", "Trumann", "Lowell", "White Hall", "Farmington", "Barling", "Pea Ridge", "Paris", "Cave City", "England", "Piggott", "Lonoke", "Elkins", "Hamburg", "Mayflower", "Ward", "Marked Tree", "Berryville", "Eureka Springs", "Gravette", "Marianna", "Plumerville", "Clinton", "Gentry", "Tontitown", "Leachville", "Austin", "Lake City", "Huntsville", "Charleston", "Fordyce", "Dumas", "Prescott", "McCrory", "Prairie Grove", "DeWitt", "Smackover", "Hazen", "Lavaca", "Rison", "Rector", "Fairfield Bay", "Pottsville", "Des Arc", "Bald Knob", "Perryville", "Melbourne", "Atkins", "Gould", "Dermott", "Lincoln", "Holiday Island", "Cherokee Village", "Greenland", "Harrisburg", "Lake Village", "Corning", "Amity", "Rose Bud", "Horseshoe Bend", "Shannon Hills", "Greenbrier", "Mulberry", "Dover", "Flippin", "Hardy", "Hoxie", "Mineral Springs", "Jasper", "Mammoth Spring", "Elaine", "Hughes", "Gillett", "Swifton", "Bradford", "Danville", "Quitman", "Calico Rock", "Cave Springs", "Bull Shoals", "Yellville", "Mountain View", "St. Joe", "Lead Hill", "Diamond City", "Gassville", "Cotter", "Lakeview", "Midway", "Norfork", "Oakland", "Brinkley", "Cotton Plant", "Clarendon", "Carlisle", "Lonoke", "England", "Cabot", "Austin", "Beebe", "Searcy", "Judsonia", "Kensett", "Higginson", "McRae", "Russell", "Atkins", "Morrilton", "Plumerville", "Conway", "Mayflower", "Maumelle", "North Little Rock", "Little Rock", "Alexander", "Benton", "Bryant", "Bauxite", "Traskwood", "Hot Springs", "Malvern", "Rockport", "Bismarck", "Arkadelphia", "Gurdon", "Prescott", "Hope", "Emmet", "Magnolia", "Waldo", "Stephens", "El Dorado", "Smackover", "Norphlet", "Calion", "Junction City", "Lillie", "Strong", "Huttig", "Felsenthal", "Crossett", "Hamburg", "Montrose", "Wilmot", "Parkdale", "Eudora", "Lake Village", "Chicot", "McGehee", "Arkansas City", "Rohwer", "Dumas", "Gould", "Star City", "Grady", "Rison", "Pine Bluff", "White Hall", "Redfield", "Jefferson", "Sheridan", "Prattsville", "Poyen", "Tull", "Hensley", "England", "Lonoke", "Carlisle", "Hazen", "De Valls Bluff", "Clarendon", "Brinkley", "Cotton Plant", "Wheatley", "Palestine", "Forrest City", "Wynne", "Cherry Valley", "Earle", "Parkin", "Edmondson", "Turrell", "Tyronza", "Marked Tree", "Lepanto", "Trumann", "Harrisburg", "Weiner", "Bay", "Brookland", "Jonesboro", "Bono", "Lake City", "Monette", "Leachville", "Manila", "Blytheville", "Gosnell", "Dell", "Luxora", "Osceola", "Keiser", "Wilson", "Bassett", "Dyess", "Tyronza", "Marked Tree", "Lepanto", "Trumann", "Harrisburg", "Weiner", "Bay", "Brookland", "Jonesboro", "Bono", "Lake City", "Monette", "Leachville", "Manila", "Blytheville", "Gosnell", "Dell", "Luxora", "Osceola", "Keiser", "Wilson", "Bassett", "Dyess"],
  "California": ["Los Angeles", "San Diego", "San Jose", "San Francisco", "Fresno", "Sacramento", "Long Beach", "Oakland", "Bakersfield", "Anaheim", "Santa Ana", "Riverside", "Stockton", "Irvine", "Chula Vista", "Fremont", "San Bernardino", "Modesto", "Fontana", "Oxnard", "Moreno Valley", "Huntington Beach", "Glendale", "Santa Clarita", "Garden Grove", "Oceanside", "Rancho Cucamonga", "Santa Rosa", "Ontario", "Lancaster", "Elk Grove", "Corona", "Palmdale", "Salinas", "Pomona", "Hayward", "Escondido", "Torrance", "Sunnyvale", "Orange", "Fullerton", "Pasadena", "Thousand Oaks", "Visalia", "Simi Valley", "Concord", "Roseville", "Rockville", "Santa Clara", "Vallejo", "Victorville", "El Monte", "Berkeley", "Downey", "Costa Mesa", "Inglewood", "Carlsbad", "San Buenaventura", "Fairfield", "West Covina", "Murrieta", "Richmond", "Norwalk", "Antioch", "Temecula", "Burbank", "Daly City", "Rialto", "Santa Maria", "El Cajon", "San Mateo", "Clovis", "Compton", "Jurupa Valley", "Vista", "South Gate", "Mission Viejo", "Vacaville", "Carson", "Hesperia", "Santa Monica", "Westminster", "Redding", "Santa Barbara", "Chico", "Newport Beach", "San Leandro", "San Marcos", "Whittier", "Hawthorne", "Citrus Heights", "Tracy", "Alhambra", "Livermore", "Buena Park", "Lakewood", "Merced", "Hemet", "Chino", "Menifee", "Lake Forest", "Napa", "Redwood City", "Bellflower", "Indio", "Tustin", "Baldwin Park", "Chino Hills", "Alameda", "Upland", "San Ramon", "Folsom", "Pleasanton", "Union City", "Perris", "Manteca", "Lynwood", "Apple Valley", "Redlands", "Turlock", "Fremont", "Milpitas", "Redondo Beach", "Rancho Cordova", "Yorba Linda", "Palo Alto", "Davis", "Camarillo", "Walnut Creek", "Pittsburg", "South San Francisco", "Yuba City", "San Clemente", "Laguna Niguel", "Pico Rivera", "Montebello", "Lodi", "Madera", "Santa Cruz", "La Habra", "Encinitas", "Monterey Park", "Tulare", "Cupertino", "Gardena", "National City", "Rocklin", "Petaluma", "Huntington Park", "San Rafael", "La Mesa", "Arcadia", "Escondido", "Diamond Bar", "Redwood City", "Woodland", "Santa Clarita", "Pacifica", "Santa Monica", "Paramount", "Hanford", "Bellingham", "San Leandro", "Yucaipa", "Watsonville", "Placerville", "Glendora", "Gilroy", "Palm Desert", "Cerritos", "West Sacramento", "Aliso Viejo", "Poway", "La Mirada", "Rancho Palos Verdes", "Cypress", "Dublin", "Covina", "Azusa", "Palm Springs", "San Dimas", "Cerritos", "Brea", "Redlands", "San Marcos", "Fountain Valley", "Martinez", "Novato", "West Hollywood", "Campbell", "Encinitas", "Galt", "Camarillo", "Petaluma", "San Carlos", "Imperial Beach", "Soledad", "Hollister", "Delano", "Castro Valley", "Stanton", "Lompoc", "Oakley", "Vacaville", "Lake Elsinore", "Wildomar", "Los Altos", "Huron", "Desert Hot Springs", "Lincoln", "Porterville", "Adelanto", "Yucca Valley", "Coachella", "San Bruno", "Rohnert Park", "Brentwood", "Imperial", "San Luis Obispo", "King City", "Fortuna", "Capitola", "Coalinga", "Sebastopol", "Live Oak", "Los Banos", "Atascadero", "Rosemead", "Beaumont", "Lemoore", "Colton", "San Gabriel", "Monrovia", "Barstow", "Tehachapi", "San Jacinto", "Paso Robles", "Los Altos Hills", "Moorpark", "Manhattan Beach", "Mendota", "Hermosa Beach", "La Palma", "Danville", "Bell Gardens", "La Puente", "Campbell", "Morgan Hill", "Pinole", "Susanville", "El Segundo", "Shafter", "San Pablo", "Santa Paula", "La Quinta", "Wasco", "Solana Beach", "Lathrop", "Larkspur", "Cudahy", "Corte Madera", "Mill Valley", "Orinda", "Firebaugh", "Los Alamitos", "Calexico", "Tiburon", "Albany", "Los Gatos", "Saratoga", "Fillmore", "Sand City", "Emeryville", "Piedmont", "Hillsborough", "Bradbury", "Hidden Hills", "Rolling Hills", "Rolling Hills Estates", "Rancho Mirage", "Indian Wells", "Laguna Woods", "Villa Park", "Sausalito", "Belvedere", "Ross", "Atherton", "Woodside", "Portola Valley", "Monte Sereno", "Los Altos Hills", "Hillsborough", "Bradbury", "Rolling Hills", "Hidden Hills", "Indian Wells", "Rancho Mirage", "Desert Hot Springs", "Cathedral City", "Palm Desert", "Indio", "La Quinta", "Coachella", "Bermuda Dunes", "Thousand Palms", "Desert Hot Springs", "Sky Valley", "Cabazon", "Whitewater", "Snow Creek", "Desert Edge", "North Palm Springs", "Garnet", "Idyllwild", "Pine Cove", "Fern Valley", "Mountain Center", "Anza", "Aguanga", "Cahuilla", "Pinyon Pines", "Yucca Valley", "Joshua Tree", "Twentynine Palms", "Wonder Valley", "Landers", "Flamingo Heights", "Pioneertown", "Morongo Valley", "Desert Hot Springs", "Whitewater", "Cabazon", "Banning", "Beaumont", "Oak Glen", "Forest Falls", "Angelus Oaks", "Big Bear Lake", "Big Bear City", "Fawnskin", "Sugarloaf", "Running Springs", "Arrowbear Lake", "Cedar Glen", "Crestline", "Lake Arrowhead", "Blue Jay", "Skyforest", "Rimforest", "Twin Peaks", "Wrightwood", "Phelan", "Pinon Hills", "Llano", "Pearblossom", "Littlerock", "Juniper Hills", "Lake Los Angeles", "Leona Valley", "Acton", "Agua Dulce", "Newhall", "Saugus", "Valencia", "Castaic", "Stevenson Ranch", "Agoura Hills", "Calabasas", "Topanga", "Malibu", "Pacific Palisades", "Brentwood", "West Los Angeles", "Santa Monica", "Venice", "Marina del Rey", "El Segundo", "Hawthorne", "Lawndale", "Redondo Beach", "Hermosa Beach", "Manhattan Beach", "Torrance", "Carson", "Long Beach", "Signal Hill", "Lakewood", "Bellflower", "Paramount", "Downey", "Norwalk", "La Mirada", "Buena Park", "Fullerton", "Anaheim", "Orange", "Santa Ana", "Tustin", "Irvine", "Costa Mesa", "Newport Beach", "Laguna Beach", "Dana Point", "San Juan Capistrano", "San Clemente", "Aliso Viejo", "Laguna Niguel", "Mission Viejo", "Lake Forest", "Laguna Hills", "Rancho Santa Margarita", "Foothill Ranch", "Portola Hills", "Coto de Caza", "Dove Canyon", "Rancho Santa Margarita", "Las Flores", "Trabuco Canyon", "Robinson Ranch", "Ladera Ranch", "Talega", "San Juan Capistrano", "San Clemente", "Dana Point", "Laguna Beach", "Laguna Woods", "Aliso Viejo", "Laguna Niguel", "Mission Viejo", "Lake Forest", "Rancho Santa Margarita", "Foothill Ranch", "Portola Hills", "Coto de Caza", "Dove Canyon", "Ladera Ranch", "Talega", "Las Flores", "Trabuco Canyon", "Robinson Ranch", "Silverado", "Modjeska Canyon", "Williams Canyon", "Holy Jim Canyon", "Trabuco Canyon", "O'Neill Regional Park", "Caspers Wilderness Park", "Ronald W. Caspers Wilderness Park", "San Mateo Canyon Wilderness", "Santa Rosa Plateau Ecological Reserve", "Rancho California", "Temecula", "Murrieta", "Wildomar", "Lake Elsinore", "Canyon Lake", "Menifee", "Sun City", "Quail Valley", "Romoland", "Homeland", "Winchester", "Hemet", "San Jacinto", "Valle Vista", "East Hemet", "Anza", "Aguanga", "Cahuilla", "Pinyon Pines", "Mountain Center", "Idyllwild", "Pine Cove", "Fern Valley", "Garner Valley", "Hurkey Creek Park", "Lake Fulmor", "Dark Canyon", "Strawberry Creek", "Marion Mountain", "Tahquitz Peak", "San Jacinto Peak", "Round Valley", "Long Valley", "Caramba", "Thomas Mountain", "Tool Box Spring", "Kenworthy", "Ribbonwood", "Oak Grove", "Radec", "Beauty Mountain", "Bucksnort Mountain", "Cactus Springs", "Desert Divide", "Garnet", "Seven Pines", "Apple Canyon", "Sage", "Tripp Flats", "Fobes Saddle", "Fobes Ranch", "Indian Mountain", "Vandeventer Flat", "Live Oak Springs", "Barrett Lake", "Morena Village", "Campo", "Jacumba", "Boulevard", "Pine Valley", "Guatay", "Descanso", "Alpine", "Harbison Canyon", "Dehesa", "Jamul", "Rancho San Diego", "Spring Valley", "La Presa", "Lemon Grove", "La Mesa", "El Cajon", "Santee", "Lakeside", "Winter Gardens", "Bostonia", "Flinn Springs", "Granite Hills", "Crest", "Dehesa", "Harbison Canyon", "Jamul", "Dulzura", "Potrero", "Tecate", "Campo", "Jacumba", "Boulevard", "Jacumba Hot Springs", "In-Ko-Pah", "McCain Valley", "Live Oak Springs", "Morena Village", "Lake Morena", "Cottonwood", "Potrero", "Barrett Junction", "Barrett Lake", "Dulzura", "Jamul", "Rancho San Diego", "Spring Valley", "Casa de Oro-Mount Helix", "Rancho San Diego", "Jamul", "Dulzura", "Barrett Junction", "Barrett Lake", "Potrero", "Campo", "Jacumba", "Boulevard", "Pine Valley", "Guatay", "Descanso", "Alpine", "Dehesa", "Harbison Canyon", "Lakeside", "Winter Gardens", "Bostonia", "El Cajon", "Rancho San Diego", "Spring Valley", "La Presa", "Lemon Grove", "La Mesa", "Mount Helix", "Casa de Oro", "Bonita", "Chula Vista", "National City", "San Diego", "Coronado", "Imperial Beach"],
  "Colorado": ["Denver", "Colorado Springs", "Aurora", "Fort Collins", "Lakewood", "Thornton", "Arvada", "Westminster", "Pueblo", "Centennial", "Boulder", "Greeley", "Longmont", "Loveland", "Grand Junction", "Broomfield", "Castle Rock", "Commerce City", "Parker", "Littleton", "Northglenn", "Brighton", "Englewood", "Wheat Ridge", "Lafayette", "Louisville", "Steamboat Springs", "Fort Morgan", "Durango", "Golden", "Montrose", "Greenwood Village", "Erie", "Evans", "Highlands Ranch", "Westminster", "Federal Heights", "Sheridan", "Edgewater", "Glendale", "Cherry Hills Village", "Columbine Valley", "Bow Mar", "Mountain View", "Deer Trail", "Bennett", "Strasburg", "Byers", "Agate", "Limon", "Hugo", "Karval", "Arlington", "Sugar City", "Ordway", "Crowley", "Olney Springs", "Boone", "Fowler", "Manzanola", "Rocky Ford", "Swink", "La Junta", "Cheraw", "Wiley", "Lamar", "Granada", "Holly", "Syracuse", "Coolidge", "Hartman", "Johnson Village", "Kim", "Pritchett", "Springfield", "Campo", "Walsh", "Vilas", "Two Buttes", "Stonington", "Joes", "Flagler", "Seibert", "Vona", "Bethune", "Burlington", "Kanorado", "Cheyenne Wells", "Kit Carson", "Wild Horse", "Towner", "Sheridan Lake", "Eads", "Haswell", "Arlington", "Sugar City", "Ordway", "Crowley", "Olney Springs", "Boone", "Fowler", "Manzanola", "Rocky Ford", "Swink", "La Junta", "Cheraw", "Wiley", "Lamar", "Granada", "Holly", "Syracuse", "Coolidge", "Hartman", "Johnson Village", "Kim", "Pritchett", "Springfield", "Campo", "Walsh", "Vilas", "Two Buttes", "Stonington", "Joes", "Flagler", "Seibert", "Vona", "Bethune", "Burlington", "Kanorado", "Cheyenne Wells", "Kit Carson", "Wild Horse", "Towner", "Sheridan Lake", "Eads", "Haswell", "McClave", "Wiley", "Lamar", "Granada", "Holly", "Syracuse", "Coolidge", "Hartman", "Johnson Village", "Kim", "Pritchett", "Springfield", "Campo", "Walsh", "Vilas", "Two Buttes", "Stonington", "Joes", "Flagler", "Seibert", "Vona", "Bethune", "Burlington", "Kanorado", "Cheyenne Wells", "Kit Carson", "Wild Horse", "Towner", "Sheridan Lake", "Eads", "Haswell", "McClave"],
  "Connecticut": ["Bridgeport", "New Haven", "Hartford", "Stamford", "Waterbury", "Norwalk", "Danbury", "New Britain", "West Hartford", "Greenwich", "Hamden", "Meriden", "Bristol", "Manchester", "West Haven", "Milford", "Stratford", "East Hartford", "Middletown", "Norwalk", "Torrington", "New London", "Ansonia", "Derby", "Shelton", "Groton", "Wallingford", "Enfield", "Southington", "Glastonbury", "Newington", "Naugatuck", "Vernon", "Windsor", "Bloomfield", "New Milford", "Watertown", "Cromwell", "Middletown", "Rocky Hill", "Wethersfield", "Berlin", "East Haven", "North Haven", "Guilford", "Branford", "Madison", "Clinton", "Westbrook", "Old Saybrook", "Essex", "Chester", "Deep River", "Haddam", "Durham", "Middlefield", "Killingworth", "Higganum", "East Hampton", "Portland", "East Berlin", "Cromwell", "Rocky Hill", "Wethersfield", "Newington", "West Hartford", "Hartford", "East Hartford", "Glastonbury", "South Glastonbury", "Marlborough", "Hebron", "Andover", "Columbia", "Coventry", "Bolton", "Manchester", "Vernon", "Tolland", "Ellington", "Somers", "Enfield", "Suffield", "Windsor Locks", "Windsor", "Bloomfield", "Simsbury", "Granby", "Canton", "Avon", "Farmington", "Unionville", "Burlington", "Harwinton", "Torrington", "Winsted", "Norfolk", "Colebrook", "New Hartford", "Barkhamsted", "Riverton", "Winchester", "Litchfield", "Bethlehem", "Woodbury", "Middlebury", "Waterbury", "Wolcott", "Watertown", "Oakville", "Thomaston", "Plymouth", "Terryville", "Bristol", "Burlington", "Plainville", "New Britain", "Berlin", "Cromwell", "Durham", "Middletown", "Portland", "East Hampton", "Marlborough", "Hebron", "Andover", "Columbia", "Coventry", "Mansfield", "Storrs", "Willimantic", "Windham", "Scotland", "Canterbury", "Plainfield", "Sterling", "Oneco", "Moosup", "Jewett City", "Griswold", "Lisbon", "Norwich", "Franklin", "Lebanon", "Bozrah", "Montville", "Uncasville", "Oakdale", "New London", "Waterford", "East Lyme", "Niantic", "Old Lyme", "Lyme", "Hamburg", "Old Saybrook", "Westbrook", "Clinton", "Madison", "Guilford", "Branford", "North Branford", "Northford", "Durham", "Wallingford", "North Haven", "Hamden", "New Haven", "West Haven", "East Haven", "Branford", "Guilford", "Madison", "Clinton", "Westbrook", "Old Saybrook", "Essex", "Chester", "Deep River", "Haddam", "Higganum", "East Hampton", "Portland", "Cromwell", "Middletown", "Durham", "Wallingford", "Meriden", "Middletown", "Berlin", "New Britain", "Newington", "Wethersfield", "Rocky Hill", "Glastonbury", "East Hartford", "Hartford", "West Hartford", "Farmington", "Avon", "Simsbury", "Granby", "Suffield", "Windsor", "Windsor Locks", "East Windsor", "Enfield", "Somers", "Stafford Springs", "Stafford", "Union", "Wales", "Holland", "Brimfield", "Monson", "Palmer", "Ware", "Belchertown", "Granby", "South Hadley", "Holyoke", "Chicopee", "West Springfield", "Springfield", "Longmeadow", "East Longmeadow", "Hampden", "Wilbraham", "Ludlow", "Palmer", "Brimfield", "Holland", "Wales", "Monson", "Hampden", "Wilbraham", "East Longmeadow", "Longmeadow", "Springfield", "West Springfield", "Agawam", "Westfield", "Southwick", "Granville", "Tolland", "Blandford", "Russell", "Montgomery", "Huntington", "Chester", "Middlefield", "Middletown", "Durham", "Haddam", "East Hampton", "Marlborough", "Glastonbury", "East Hartford", "Manchester", "Vernon", "Tolland", "Ellington", "Somers", "Enfield", "Longmeadow", "East Longmeadow", "Hampden", "Wilbraham", "Ludlow", "Palmer", "Brimfield", "Sturbridge", "Southbridge", "Charlton", "Oxford", "Webster", "Dudley", "Thompson", "Putnam", "Killingly", "Plainfield", "Sterling", "Voluntown", "Griswold", "Lisbon", "Norwich", "Bozrah", "Montville", "Salem", "East Haddam", "Lyme", "Old Lyme", "East Lyme", "Waterford", "New London", "Groton", "Ledyard", "Preston", "North Stonington", "Stonington", "Mystic", "Noank", "Pawcatuck"],
  "Delaware": ["Wilmington", "Dover", "Newark", "Middletown", "Smyrna", "Milford", "Seaford", "Georgetown", "Elsmere", "New Castle", "Laurel", "Harrington", "Camden", "Clayton", "Lewes", "Milton", "Bridgeville", "Delmar", "Rehoboth Beach", "Delaware City", "Ocean View", "Bethany Beach", "Fenwick Island", "South Bethany", "Dewey Beach", "Henlopen Acres", "Blades", "Bowers", "Cheswold", "Dagsboro", "Frankford", "Frederica", "Greenwood", "Magnolia", "Millsboro", "Millville", "Newport", "Odessa", "Selbyville", "Slaughter Beach", "Viola", "Woodside", "Wyoming"],
  "Florida": ["Jacksonville", "Miami", "Tampa", "Orlando", "St. Petersburg", "Hialeah", "Tallahassee", "Fort Lauderdale", "Port St. Lucie", "Cape Coral", "Pembroke Pines", "Hollywood", "Miramar", "Gainesville", "Coral Springs", "Miami Gardens", "Clearwater", "Palm Bay", "Pompano Beach", "West Palm Beach", "Lakeland", "Davie", "Miami Beach", "Sunrise", "Plantation", "Boca Raton", "Deltona", "Largo", "Deerfield Beach", "Boynton Beach", "Melbourne", "Lauderhill", "Weston", "Margate", "Coconut Creek", "Sanford", "Tamarac", "Ocala", "Sarasota", "Pensacola", "Bradenton", "Palm Coast", "Pinellas Park", "Fort Myers", "Kissimmee", "Homestead", "Delray Beach", "Jupiter", "Apopka", "North Miami", "Altamonte Springs", "Titusville", "Oakland Park", "North Port", "Dunedin", "Aventura", "Bonita Springs", "Ocoee", "Wellington", "Edgewater", "Winter Haven", "North Miami Beach", "Clermont", "Greenacres", "Doral", "Cutler Bay", "The Villages", "Winter Park", "Parkland", "Cooper City", "Riviera Beach", "Royal Palm Beach", "Lake Worth", "New Smyrna Beach", "Safety Harbor", "Tarpon Springs", "Seminole", "Winter Springs", "Casselberry", "Lauderdale Lakes", "Venice", "Palmetto Bay", "Ormond Beach", "Pinecrest", "Leesburg", "Palm Beach Gardens", "North Lauderdale", "Daytona Beach", "Kenneth City", "Hallandale Beach", "Port Orange", "St. Cloud", "Rockledge", "Longwood", "Lake Mary", "Lighthouse Point", "Belle Glade", "Inverness", "Palm Springs", "Winter Garden", "DeBary", "Fernandina Beach", "Eustis", "Sebastian", "Cocoa Beach", "Mount Dora", "Key Largo", "Callaway", "Cocoa", "Dania Beach", "Palm Beach", "Sunny Isles Beach", "Lake Wales", "Zephyrhills", "Hialeah Gardens", "Palatka", "Crystal River", "Haines City", "Madeira Beach", "Crestview", "Panama City Beach", "Panama City", "Holly Hill", "Auburndale", "Bartow", "Coral Gables", "Vero Beach", "Riverview", "Lake City", "Lakewood Ranch", "Golden Beach", "Indian Harbour Beach", "Islamorada", "Key Biscayne", "Bal Harbour", "Orange City", "Aventura", "Bay Harbor Islands", "Pinewood", "Westchester", "Kendall", "Fountainebleau", "Country Club", "Tamiami", "Richmond West", "The Hammocks", "Kendall West", "Three Lakes", "University Park", "Glenvar Heights", "Olympia Heights", "Coral Terrace", "South Miami Heights", "Palmetto Estates", "Palmetto Bay", "Cutler Bay", "Homestead", "Florida City", "Leisure City", "Princeton", "Naranja", "Goulds", "Perrine", "Richmond Heights", "Palmetto Estates", "Pinecrest", "Kendall", "West Kendall", "The Hammocks", "Country Walk", "Fontainebleau", "Doral", "Miami Lakes", "Hialeah Gardens", "Medley", "Virginia Gardens", "West Miami", "Coral Gables", "South Miami", "Key Biscayne", "Fisher Island", "Star Island", "Palm Island", "Hibiscus Island", "Di Lido Island", "Rivo Alto Island", "San Marco Island", "San Marino Island", "Biscayne Island", "North Bay Island", "Normandy Isle", "La Gorce Island", "Allison Island", "Belle Isle", "Venetian Islands", "Watson Island", "Government Cut", "Dodge Island", "Terminal Island", "Port of Miami", "MacArthur Causeway", "Julia Tuttle Causeway", "79th Street Causeway", "Broad Causeway", "John F. Kennedy Causeway", "Lehman Causeway", "William Powell Bridge", "Rickenbacker Causeway", "Bear Cut Bridge", "Venetian Causeway", "Collins Avenue", "Ocean Drive", "Lincoln Road", "Espanola Way", "Washington Avenue", "Alton Road", "West Avenue", "Bay Road", "Purdy Avenue", "Meridian Avenue", "Euclid Avenue", "Pennsylvania Avenue", "Michigan Avenue", "Jefferson Avenue", "Lenox Avenue", "Prairie Avenue", "Sheridan Avenue", "Byron Avenue", "Harding Avenue", "Hawthorne Avenue", "Pinetree Drive", "Pine Tree Drive", "Allison Road", "La Gorce Drive", "North Bay Road", "Star Island Drive", "Palm Island Drive", "Hibiscus Island Drive", "Di Lido Island Drive", "Rivo Alto Island Drive", "San Marco Island Drive", "San Marino Island Drive", "Biscayne Island Drive", "North Bay Island Drive", "Normandy Drive", "La Gorce Island Drive", "Allison Island Drive", "Belle Isle Drive", "Venetian Drive", "Watson Island Drive"],
  "Georgia": ["Atlanta", "Augusta", "Columbus", "Macon", "Savannah", "Athens", "Sandy Springs", "Roswell", "Albany", "Johns Creek", "Warner Robins", "Alpharetta", "Marietta", "Valdosta", "Smyrna", "Dunwoody", "Rome", "East Point", "Gainesville", "Milton", "Peachtree Corners", "Hinesville", "Kennesaw", "Lawrenceville", "Duluth", "Brookhaven", "Newnan", "Statesboro", "Peachtree City", "Sugar Hill", "Woodstock", "Conyers", "Douglasville", "Canton", "Carrollton", "Tifton", "Decatur", "Acworth", "McDonough", "Powder Springs", "Tucker", "LaGrange", "Pooler", "Stockbridge", "Union City", "Cartersville", "Fairburn", "Kingsland", "Griffin", "Fayetteville", "Thomasville", "Covington", "Richmond Hill", "Forest Park", "Dallas", "Cumming", "Villa Rica", "Snellville", "Riverdale", "College Park", "St. Marys", "Suwanee", "Ball Ground", "Jesup", "Douglas", "Buford", "Flowery Branch", "Moultrie", "Monroe", "Perry", "Tyrone", "Waycross", "Braselton", "Cairo", "Cedartown", "Holly Springs", "Bremen", "Thomaston", "Baxley", "Cochran", "Rincon", "Cordele", "Eastman", "Blairsville", "Cornelia", "Dahlonega", "Ellijay", "Commerce", "Jefferson", "Madison", "Milledgeville", "Sparta", "Washington", "Thomson", "Wrens", "Louisville", "Waynesboro", "Sylvania", "Claxton", "Vidalia", "Lyons", "Mount Vernon", "Ailey", "Soperton", "Dublin", "Eastman", "Cochran", "Hawkinsville", "Perry", "Fort Valley", "Byron", "Centerville", "Kathleen", "Macon", "Gray", "Milledgeville", "Eatonton", "Madison", "Commerce", "Hartwell", "Royston", "Carnesville", "Franklin Springs", "Lavonia", "Toccoa", "Clarkesville", "Cornelia", "Mount Airy", "Baldwin", "Demorest", "Dahlonega", "Cleveland", "Helen", "Sautee Nacoochee", "Murrayville", "Lula", "Flowery Branch", "Oakwood", "Gainesville", "Clermont", "Cumming", "Dawsonville", "Dahlonega", "Suches", "Blairsville", "Hiawassee", "Young Harris", "Hayesville", "Franklin", "Clayton", "Mountain City", "Dillard", "Sky Valley", "Tallulah Falls", "Clarkesville", "Cornelia", "Mount Airy", "Baldwin", "Demorest", "Commerce", "Jefferson", "Braselton", "Hoschton", "Pendergrass", "Gillsville", "Lula", "Clermont", "Dahlonega", "Cleveland", "Helen", "Sautee Nacoochee", "Murrayville", "Flowery Branch", "Oakwood", "Gainesville", "Buford", "Sugar Hill", "Suwanee", "Duluth", "Lawrenceville", "Snellville", "Grayson", "Loganville", "Monroe", "Social Circle", "Covington", "Oxford", "Porterdale", "Newborn", "Mansfield", "Madison", "Commerce", "Jefferson", "Braselton", "Hoschton", "Pendergrass", "Gillsville", "Lula", "Clermont", "Dahlonega", "Cleveland", "Helen", "Sautee Nacoochee", "Murrayville", "Flowery Branch", "Oakwood", "Gainesville", "Buford", "Sugar Hill", "Suwanee", "Duluth", "Lawrenceville", "Snellville", "Grayson", "Loganville", "Monroe", "Social Circle", "Covington", "Oxford", "Porterdale", "Newborn", "Mansfield", "Madison", "Eatonton", "Milledgeville", "Sparta", "Washington", "Sandersville", "Tennille", "Wrightsville", "Dublin", "Soperton", "Mount Vernon", "Ailey", "Lyons", "Vidalia", "Santa Claus", "Uvalda", "Higgston", "Reidsville", "Glennville", "Ludowici", "Hinesville", "Fort Stewart", "Allenhurst", "Walthourville", "Midway", "Riceboro", "Darien", "Brunswick", "Jekyll Island", "St. Simons Island", "Sea Island", "Little St. Simons Island", "Jekyl Island", "St. Marys", "Kingsland", "Woodbine", "Waverly", "Brunswick", "Dock Junction", "Sterling", "Nahunta", "Blackshear", "Waycross", "Manor", "Offerman", "Screven", "Alma", "Baxley", "Hazlehurst", "Jeff Davis", "Denton", "Lumber City", "McRae", "Helena", "Eastman", "Chauncey", "Milan", "Rhine", "Abbeville", "Fitzgerald", "Ocilla", "Irwin", "Mystic", "Alapaha", "Nashville", "Ray City", "Lakeland", "Naylor", "Valdosta", "Hahira", "Remerton", "Dasher", "Clyattville", "Quitman", "Morven", "Barney", "Pavo", "Boston", "Thomasville", "Coolidge", "Meigs", "Pelham", "Cairo", "Whigham", "Climax", "Bainbridge", "Attapulgus", "Fowlstown", "Recovery", "Faceville", "Donalsonville", "Iron City", "Brinson", "Jakin", "Damascus", "Blakely", "Fort Gaines", "Coleman", "Cuthbert", "Georgetown", "Lumpkin", "Richland", "Preston", "Omaha", "Buena Vista", "Upatoi", "Columbus", "Fort Benning", "Phenix City", "Smith Station", "Seale", "Hurtsboro", "Pittsview", "Smiths Station", "Opelika", "Auburn", "Waverly", "Camp Hill", "Lafayette", "Lanett", "Valley", "Shawmut", "Fairfax", "Five Points", "Roanoke", "Wadley", "LaFayette", "Chickamauga", "Rossville", "Fort Oglethorpe", "Lookout Mountain", "Trenton", "Rising Fawn", "Menlo", "Summerville", "Lyerly", "Rome", "Cave Spring", "Cedartown", "Rockmart", "Aragon", "Taylorsville", "Cartersville", "White", "Cassville", "Euharlee", "Emerson", "Allatoona", "Acworth", "Kennesaw", "Marietta", "Austell", "Mableton", "Smyrna", "Vinings", "Sandy Springs", "Roswell", "Alpharetta", "Milton", "Duluth", "Johns Creek", "Berkeley Lake", "Peachtree Corners", "Norcross", "Doraville", "Chamblee", "Brookhaven", "Atlanta", "Decatur", "Avondale Estates", "Pine Lake", "Stone Mountain", "Clarkston", "Scottdale", "Tucker", "Lilburn", "Snellville", "Grayson", "Loganville", "Walnut Grove", "Between", "Monroe", "Good Hope", "Covington", "Oxford", "Porterdale", "Newborn", "Mansfield", "Social Circle", "Madison", "Rutledge", "Buckhead", "Eatonton", "Milledgeville", "Hardwick", "Sparta", "Sandersville", "Tennille", "Wrightsville", "Dublin", "Dexter", "Cadwell", "Soperton", "Tarrytown", "Montgomery", "Mount Vernon", "Ailey", "Lyons", "Vidalia", "Santa Claus", "Uvalda", "Higgston", "Reidsville", "Glennville", "Ludowici", "Hinesville", "Fort Stewart", "Allenhurst", "Walthourville", "Midway", "Sunbury", "Riceboro", "Eulonia", "Townsend", "Darien", "Meridian", "Brunswick", "Jekyll Island", "St. Simons Island", "Sea Island", "Little St. Simons Island", "St. Marys", "Kingsland", "Woodbine", "Waverly", "White Oak", "Folkston", "Homeland", "Hilliard", "Callahan", "Fernandina Beach", "Yulee", "Amelia Island", "Cumberland Island", "Jekyll Island", "St. Simons Island", "Sea Island", "Little St. Simons Island", "Blackbeard Island", "Sapelo Island", "Wolf Island", "Egg Island", "Little Egg Island", "Raccoon Key", "Cabretta Island", "Doboy Island", "Altamaha Sound", "Little St. Simons Island", "St. Simons Island", "Jekyll Island", "Cumberland Island", "Amelia Island"],
  "Hawaii": ["Honolulu", "East Honolulu", "Pearl City", "Hilo", "Kailua", "Waipahu", "Kaneohe", "Mililani Town", "Kahului", "Ewa Gentry", "Mililani Mauka", "Kihei", "Wahiawa", "Ewa Beach", "Royal Kunia", "Wailuku", "Halawa", "Aiea", "Makakilo", "Waimalu", "Kailua-Kona", "Schofield Barracks", "Kapaa", "Makaha", "Waipio", "Village Park", "Laie", "Hauula", "Punaluu", "Kahana", "Sunset Beach", "Haleiwa", "Waialua", "Mokuleia", "Kapolei", "Barbers Point Housing", "Kalaeloa", "Nanakuli", "Maili", "Waianae", "Makaha", "Makaha Valley", "Keaau", "Mountain View", "Volcano", "Pahoa", "Naalehu", "Ocean View", "Captain Cook", "Holualoa", "Waimea", "Puako", "Waikoloa Village", "Kamuela", "Honokaa", "Paauilo", "Laupahoehoe", "Hakalau", "Ninole", "Papaikou", "Pepeekeo", "Honomu", "Akaka Falls", "Umauma Falls", "Waikaumalo", "Ookala", "Kukaiau", "Paauilo", "Honokaa", "Waimea", "Kamuela", "Puuanahulu", "Waikoloa", "Puako", "Mauna Lani", "Hapuna Beach", "Kawaihae", "Puukohola Heiau", "Spencer Beach Park", "Kaunaoa Beach", "Mauna Kea Beach", "Hapuna Beach State Recreation Area", "Holoholokai Beach Park", "Anaehoomalu Beach", "Waikoloa Beach", "Kiholo Bay", "Puako", "Mauna Lani Resort", "Fairmont Orchid", "Mauna Kea Beach Hotel", "Hapuna Beach Prince Hotel", "Waikoloa Beach Marriott", "Hilton Waikoloa Village", "Kings' Shops", "Queens' MarketPlace", "Waikoloa Village", "Waimea", "Kamuela", "Parker Ranch", "Merriman's", "Paniolo Country Inn", "Kamuela Provision Company", "Big Island Country Club", "Mauna Kea Golf Course", "Hapuna Golf Course", "Waikoloa Beach Golf Course", "Waikoloa Kings' Golf Course", "Makalei Golf Club", "Hamakua Country Club", "Hilo Municipal Golf Course", "Naniloa Golf Course", "Volcano Golf Course", "Sea Mountain Golf Course", "Kona Country Club", "Mauna Lani North Course", "Mauna Lani South Course", "Hualalai Golf Course", "Kona Country Club Ocean Course", "Kona Country Club Mauka Course", "Big Island Country Club", "Waimea Country Club", "Parker Ranch", "Puuopelu", "Waikii", "Pohakuloa", "Mauna Kea", "Mauna Loa", "Kilauea", "Hualalai", "Kohala Mountains", "Mauna Kea Observatory", "Keck Observatory", "Subaru Telescope", "Gemini Observatory", "Canada-France-Hawaii Telescope", "United Kingdom Infrared Telescope", "NASA Infrared Telescope Facility", "Caltech Submillimeter Observatory", "James Clerk Maxwell Telescope", "Smithsonian Submillimeter Array", "Very Long Baseline Array", "Mauna Kea Visitor Information Station", "Onizuka Center for International Astronomy", "Hale Pohaku", "Mauna Kea Access Road", "Saddle Road", "Daniel K. Inouye Highway", "Mamalahoa Highway", "Queen Kaahumanu Highway", "Akoni Pule Highway", "Hawaii Belt Road", "Hamakua Heritage Corridor", "Waimea-Kohala Airport Road", "Kawaihae Road", "Kohala Mountain Road", "Hawi", "Kapaau", "Pololu Valley", "Waipio Valley", "Kukuihaele", "Honokaa", "Paauilo", "Ookala", "Laupahoehoe", "Ninole", "Hakalau", "Papaikou", "Pepeekeo", "Honomu", "Akaka Falls State Park", "Rainbow Falls", "Boiling Pots", "Pe'epe'e Falls", "Hi'ilawe Falls", "Waiale Falls", "Umauma Falls", "Wai'ale Falls", "Kahuna Falls", "Waiale", "Wailuku River", "Wailuku River State Park", "Rainbow Falls State Park", "Boiling Pots", "Pe'epe'e Falls", "Hi'ilawe Falls", "Waiale Falls", "Umauma Falls", "Wai'ale Falls", "Kahuna Falls", "Waiale", "Wailuku River", "Wailuku River State Park"],
  "Idaho": ["Boise", "Meridian", "Nampa", "Idaho Falls", "Pocatello", "Caldwell", "Coeur d'Alene", "Twin Falls", "Lewiston", "Post Falls", "Rexburg", "Eagle", "Chubbuck", "Mountain Home", "Ammon", "Kuna", "Blackfoot", "Moscow", "Sandpoint", "Star", "Jerome", "Middleton", "Emmett", "Burley", "Garden City", "Hayden", "Rathdrum", "Payette", "Preston", "McCall", "Weiser", "Rupert", "Fruitland", "Hailey", "Shelley", "Rigby", "Soda Springs", "Bonners Ferry", "Grangeville", "Gooding", "Homedale", "Ketchum", "Salmon", "Sun Valley", "Driggs", "Spirit Lake", "Marsing", "Kamiah", "Parma", "New Plymouth", "Cascade", "Wilder", "Priest River", "Malad City", "Donnelly", "Firth", "Ashton", "Teton", "Sugar City", "St. Anthony", "Ririe", "Riggins", "Oakley", "Nezperce", "Montpelier", "Mackay", "Lapwai", "Juliaetta", "Iona", "Grace", "Georgetown", "Genesee", "Fruitvale", "Ferdinand", "Fenn", "Fairfield", "Downey", "Dietrich", "Deary", "Dayton", "Council", "Cottonwood", "Cobalt", "Clayton", "Challis", "Carey", "Cambridge", "Caldwell", "Bruneau", "Bovill", "Bellevue", "Bancroft", "Atlanta", "Arimo", "Arco", "American Falls", "Albion", "Aberdeen"],
  "Illinois": ["Chicago", "Aurora", "Rockford", "Joliet", "Naperville", "Springfield", "Peoria", "Elgin", "Waukegan", "Cicero", "Champaign", "Bloomington", "Arlington Heights", "Evanston", "Decatur", "Schaumburg", "Bolingbrook", "Palatine", "Skokie", "Des Plaines", "Orland Park", "Tinley Park", "Oak Lawn", "Berwyn", "Mount Prospect", "Normal", "Oak Park", "Downers Grove", "Elmhurst", "Hoffman Estates", "Glenview", "DeKalb", "Lombard", "Belleville", "Moline", "Buffalo Grove", "Bartlett", "Urbana", "Quincy", "Crystal Lake", "Streamwood", "Carol Stream", "Romeoville", "Rock Island", "Calumet City", "Carpentersville", "Wheaton", "Park Ridge", "Addison", "Mundelein", "Galesburg", "Algonquin", "McHenry", "Vernon Hills", "Zion", "Gurnee", "Oswego", "Lake in the Hills", "Round Lake Beach", "Lansing", "Kankakee", "Granite City", "Edwardsville", "Elmwood Park", "Dekalb", "Highland Park", "Macomb", "Sycamore", "Rantoul", "Danville", "Mount Vernon", "Alton", "Harvey", "Carbondale", "Lockport", "New Lenox", "Sterling", "Lincoln", "Freeport", "Niles", "Crest Hill", "Hillside", "Blue Island", "Grayslake", "Matteson", "Dolton", "Morton Grove", "Maywood", "Melrose Park", "Darien", "Northbrook", "North Chicago", "Woodridge", "Yorkville", "Villa Park", "South Elgin", "Batavia", "Geneva", "St. Charles", "East Moline", "Effingham", "Antioch", "East Peoria", "Fox Lake", "Plainfield", "Lisle", "Bradley", "Cahokia", "Lake Forest", "Wood Dale", "Woodstock", "O'Fallon", "Libertyville", "Warrenville", "Park Forest", "Loves Park", "Machesney Park", "Belvidere", "Taylorville", "Washington", "Hanover Park", "Burbank", "Justice", "Lemont", "Country Club Hills", "Roselle", "Bensenville", "Mokena", "Homer Glen", "Frankfort", "Minooka", "Shorewood", "Monee", "Channahon", "Braidwood", "Coal City", "Morris", "Ottawa", "Peru", "LaSalle", "Mendota", "Princeton", "Dixon", "Rock Falls", "Fulton", "Morrison", "Sterling", "Rock Island", "Moline", "East Moline", "Silvis", "Carbon Cliff", "Hampton", "Milan", "Coal Valley", "Colona", "Geneseo", "Orion", "Lynn Center", "Andalusia", "Reynolds", "Taylor Ridge", "Oakwood", "Buffalo Prairie", "Walcott", "Blue Grass", "Durant", "Stockton", "Long Grove", "Willow Springs", "Palos Hills", "Palos Heights", "Palos Park", "Worth", "Alsip", "Crestwood", "Midlothian", "Robbins", "Posen", "Markham", "Hazel Crest", "Homewood", "Flossmoor", "Olympia Fields", "Chicago Heights", "Steger", "Crete", "Monee", "Peotone", "Manteno", "Bourbonnais", "Kankakee", "Momence", "St. Anne", "Chebanse", "Clifton", "Ashkum", "Danforth", "Gilman", "Onarga", "Buckley", "Loda", "Paxton", "Gibson City", "Melvin", "Roberts", "Piper City", "Kempton", "Cabery", "Campus", "Bonfield", "Essex", "Gardner", "Braceville", "South Wilmington", "Godley", "Braidwood", "Diamond", "Coal City", "Carbon Hill", "Morris", "Minooka", "Channahon", "Shorewood", "Joliet", "Rockdale", "Crest Hill", "Lockport", "Romeoville", "Bolingbrook", "Woodridge", "Darien", "Westmont", "Clarendon Hills", "Hinsdale", "Oak Brook", "Elmhurst", "Lombard", "Villa Park", "Addison", "Wood Dale", "Itasca", "Roselle", "Bloomingdale", "Glendale Heights", "Carol Stream", "Wheaton", "Winfield", "West Chicago", "Warrenville", "Naperville", "Lisle", "Downers Grove", "Westmont", "Clarendon Hills", "Hinsdale", "Oak Brook", "Elmhurst", "Lombard", "Villa Park", "Addison", "Wood Dale", "Itasca", "Roselle", "Bloomingdale", "Glendale Heights", "Carol Stream", "Wheaton", "Winfield", "West Chicago", "Warrenville", "Naperville", "Lisle", "Downers Grove", "Lemont", "Homer Glen", "Orland Park", "Orland Hills", "Palos Heights", "Palos Hills", "Palos Park", "Worth", "Chicago Ridge", "Oak Lawn", "Burbank", "Bridgeview", "Justice", "Hickory Hills", "Willow Springs", "Indian Head Park", "Western Springs", "La Grange", "La Grange Park", "Brookfield", "Riverside", "North Riverside", "Berwyn", "Cicero", "Stickney", "Forest View", "Summit", "Bedford Park", "Burr Ridge", "Willowbrook", "Countryside", "Hodgkins", "McCook", "Lyons", "Forest Park", "River Forest", "Oak Park", "River Grove", "Franklin Park", "Northlake", "Melrose Park", "Bellwood", "Hillside", "Berkeley", "Elmwood Park", "Harwood Heights", "Norridge", "Chicago", "North Aurora", "Aurora", "Montgomery", "Oswego", "Yorkville", "Plano", "Sandwich", "Somonauk", "Cortland", "DeKalb", "Sycamore", "Genoa", "Kingston", "Kirkland", "Malta", "Clare", "Hinckley", "Big Rock", "Sugar Grove", "Batavia", "Geneva", "St. Charles", "South Elgin", "Elgin", "Carpentersville", "East Dundee", "West Dundee", "Sleepy Hollow", "Algonquin", "Lake in the Hills", "Huntley", "Union", "Marengo", "Harvard", "Capron", "Poplar Grove", "Candlewick Lake", "Boone", "Belvidere", "Cherry Valley", "Rockford", "Loves Park", "Machesney Park", "Roscoe", "South Beloit", "Beloit", "Clinton", "Sharon", "Darien", "Delavan", "Walworth", "East Troy", "Mukwonago", "Big Bend", "Vernon", "Waukesha", "Pewaukee", "Delafield", "Hartland", "Merton", "Oconomowoc", "Lac La Belle", "Nashotah", "Summit", "Chenequa", "Dousman", "Wales", "Genesee Depot", "North Prairie", "Eagle", "Palmyra", "Whitewater", "Fort Atkinson", "Jefferson", "Lake Mills", "Johnson Creek", "Watertown", "Oconomowoc", "Ixonia", "Ashippun", "Clyman", "Hustisford", "Iron Ridge", "Lowell", "Reeseville", "Columbus", "Fall River", "Doylestown", "Cambria", "Friesland", "Rio", "Poynette", "Arlington", "Lodi", "Dane", "Waunakee", "DeForest", "Windsor", "Sun Prairie", "Marshall", "Waterloo", "Lake Mills", "Cambridge", "Deerfield", "Cottage Grove", "Stoughton", "Oregon", "Verona", "Fitchburg", "Madison", "Middleton", "Cross Plains", "Black Earth", "Mazomanie", "Arena", "Spring Green", "Plain", "Loganville", "Reedsburg", "Lake Delton", "Wisconsin Dells", "Baraboo", "Portage", "Pardeeville", "Wyocena", "Rio", "Columbus", "Beaver Dam", "Horicon", "Mayville", "Lomira", "Theresa", "Allenton", "Kewaskum", "Campbellsport", "Eden", "Fond du Lac", "North Fond du Lac", "Rosendale", "Pickett", "Ripon", "Berlin", "Green Lake", "Markesan", "Princeton", "Montello", "Packwaukee", "Oxford", "Westfield", "Neshkoro", "Coloma", "Hancock", "Plainfield", "Wild Rose", "Wautoma", "Redgranite", "Weyauwega", "Fremont", "Pine River", "Poy Sippi", "Eureka", "Omro", "Oshkosh", "Winneconne", "Neenah", "Menasha", "Appleton", "Kaukauna", "Little Chute", "Kimberly", "Combined Locks", "Fox Crossing", "Greenville", "Hortonville", "Shiocton", "New London", "Bear Creek", "Manawa", "Ogdensburg", "Iola", "Scandinavia", "Amherst Junction", "Amherst", "Nelsonville", "Rosholt", "Polonia", "Custer", "Stevens Point", "Plover", "Whiting", "Bancroft", "Almond", "Friendship", "Adams", "Grand Marsh", "Wisconsin Rapids", "Nekoosa", "Port Edwards", "Vesper", "Pittsville", "Babcock", "Necedah", "New Lisbon", "Mauston", "Union Center", "Wonewoc", "Hillsboro", "Elroy", "Kendall", "Wilton", "Norwalk", "Sparta", "Bangor", "West Salem", "Holmen", "Onalaska", "La Crosse", "Barre", "Mindoro", "Galesville", "Ettrick", "Blair", "Taylor", "Black River Falls", "Hixton", "Alma Center", "Merrillan", "Millston", "Warrens", "Tomah", "Oakdale", "Camp Douglas", "New Lisbon", "Mauston", "Lyndon Station", "Wisconsin Dells", "Lake Delton", "Reedsburg", "Ironton", "Sauk City", "Prairie du Sac", "Merrimac", "Baraboo", "North Freedom", "Rock Springs", "Lime Ridge", "Loganville", "Reedsburg", "La Valle", "Cazenovia", "Hillpoint", "Wonewoc", "Union Center", "Elroy", "Kendall", "Wilton", "Norwalk", "Ontario", "Cashton", "Westby", "Coon Valley", "Stoddard", "Genoa", "De Soto", "Ferryville", "Lynxville", "Harper's Ferry", "Lansing", "New Albin", "Eitzen", "Caledonia", "Spring Grove", "Mabel", "Canton", "Harmony", "Preston", "Fountain", "Chatfield", "St. Charles", "Dover", "Eyota", "Rochester", "Byron", "Kasson", "Mantorville", "West Concord", "Kenyon", "Wanamingo", "Zumbrota", "Mazeppa", "Lake City", "Frontenac", "Red Wing", "Goodhue", "Cannon Falls", "Randolph", "Hampton", "Farmington", "Rosemount", "Apple Valley", "Eagan", "Burnsville", "Savage", "Shakopee", "Prior Lake", "Jordan", "Belle Plaine", "New Prague", "Montgomery", "Lonsdale", "Webster", "Northfield", "Dundas", "Faribault", "Medford", "Owatonna", "Blooming Prairie", "Austin", "Brownsdale", "Sargeant", "Dexter", "Elkton", "Grand Meadow", "Le Roy", "Taopi", "Adams", "Rose Creek", "Lyle", "Glenville", "Albert Lea", "Hollandale", "Clarks Grove", "Ellendale", "Geneva", "Hartland", "Freeborn", "Alden", "Wells", "Easton", "Delavan", "Minnesota Lake", "Mapleton", "Pemberton", "Waldorf", "Waseca", "New Richland", "Ellendale", "Hope", "Owatonna", "Claremont", "West Concord", "Kenyon", "Wanamingo", "Zumbrota", "Mazeppa", "Lake City", "Frontenac", "Red Wing", "Goodhue", "Cannon Falls", "Randolph", "Hampton", "Farmington", "Rosemount", "Apple Valley", "Eagan", "Burnsville", "Savage", "Shakopee", "Prior Lake", "Jordan", "Belle Plaine", "New Prague", "Montgomery", "Lonsdale", "Webster", "Northfield", "Dundas", "Faribault", "Medford", "Owatonna", "Blooming Prairie", "Austin", "Brownsdale", "Sargeant", "Dexter", "Elkton", "Grand Meadow", "Le Roy", "Taopi", "Adams", "Rose Creek", "Lyle", "Glenville", "Albert Lea", "Hollandale", "Clarks Grove", "Ellendale", "Geneva", "Hartland", "Freeborn", "Alden", "Wells", "Easton", "Delavan", "Minnesota Lake", "Mapleton", "Pemberton", "Waldorf", "Waseca", "New Richland", "Ellendale", "Hope", "Owatonna", "Claremont", "West Concord", "Kenyon", "Wanamingo", "Zumbrota", "Mazeppa", "Lake City", "Frontenac", "Red Wing", "Goodhue", "Cannon Falls", "Randolph", "Hampton", "Farmington", "Rosemount", "Apple Valley", "Eagan", "Burnsville", "Savage", "Shakopee", "Prior Lake", "Jordan", "Belle Plaine", "New Prague", "Montgomery", "Lonsdale", "Webster", "Northfield", "Dundas", "Faribault", "Medford", "Owatonna", "Blooming Prairie", "Austin", "Brownsdale", "Sargeant", "Dexter", "Elkton", "Grand Meadow", "Le Roy", "Taopi", "Adams", "Rose Creek", "Lyle", "Glenville", "Albert Lea", "Hollandale", "Clarks Grove", "Ellendale", "Geneva", "Hartland", "Freeborn", "Alden", "Wells", "Easton", "Delavan", "Minnesota Lake", "Mapleton", "Pemberton", "Waldorf", "Waseca", "New Richland", "Ellendale", "Hope", "Owatonna", "Claremont", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenac", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont", "Owatonna", "Steele Center", "Medford", "Faribault", "Dundas", "Northfield", "Webster", "Lonsdale", "Montgomery", "New Prague", "Belle Plaine", "Jordan", "Prior Lake", "Shakopee", "Savage", "Burnsville", "Eagan", "Apple Valley", "Rosemount", "Farmington", "Hampton", "Randolph", "Cannon Falls", "Goodhue", "Red Wing", "Frontenec", "Lake City", "Mazeppa", "Zumbrota", "Wanamingo", "Kenyon", "West Concord", "Claremont"]
};

// Flatten the data and create full city state combinations
const usCitiesList: City[] = Object.entries(usCitiesData).flatMap(([state, cities]) =>
  cities.map(city => ({ name: city, state }))
);

export function CityAutocomplete({ value, onChange, placeholder = "Select city...", className }: CityAutocompleteProps) {
  const [open, setOpen] = useState(false);
  const [searchValue, setSearchValue] = useState("");
  const [filteredCities, setFilteredCities] = useState<City[]>([]);

  useEffect(() => {
    if (searchValue.length < 2) {
      setFilteredCities([]);
      return;
    }

    const filtered = usCitiesList
      .filter(city => 
        city.name.toLowerCase().includes(searchValue.toLowerCase()) ||
        city.state.toLowerCase().includes(searchValue.toLowerCase())
      )
      .slice(0, 100); // Limit to 100 results for performance
    
    setFilteredCities(filtered);
  }, [searchValue]);

  const formatCityState = (city: City) => `${city.name}, ${city.state}`;

  const selectedCity = usCitiesList.find(city => formatCityState(city) === value);

  return (
    <Popover open={open} onOpenChange={setOpen}>
      <PopoverTrigger asChild>
        <Button
          variant="outline"
          role="combobox"
          aria-expanded={open}
          className={cn("w-full justify-between", className)}
        >
          {selectedCity ? formatCityState(selectedCity) : value || placeholder}
          <ChevronsUpDown className="ml-2 h-4 w-4 shrink-0 opacity-50" />
        </Button>
      </PopoverTrigger>
      <PopoverContent className="w-full p-0" align="start">
        <Command>
          <CommandInput 
            placeholder="Search cities..." 
            value={searchValue}
            onValueChange={setSearchValue}
          />
          <CommandList>
            <CommandEmpty>
              {searchValue.length < 2 
                ? "Type at least 2 characters to search..." 
                : "No cities found."
              }
            </CommandEmpty>
            <CommandGroup>
              {filteredCities.map((city, index) => {
                const cityState = formatCityState(city);
                return (
                  <CommandItem
                    key={`${cityState}-${index}`}
                    value={cityState}
                    onSelect={() => {
                      onChange(cityState);
                      setOpen(false);
                    }}
                  >
                    <Check
                      className={cn(
                        "mr-2 h-4 w-4",
                        value === cityState ? "opacity-100" : "opacity-0"
                      )}
                    />
                    {cityState}
                  </CommandItem>
                );
              })}
            </CommandGroup>
          </CommandList>
        </Command>
      </PopoverContent>
    </Popover>
  );
}